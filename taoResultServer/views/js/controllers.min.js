define("taoResultServer/controller/routes",[],function(){return{ResultServerMgt:{actions:{migrate:"controller/migrate"}}}}),define("taoResultServer/controller/migrate",["module","jquery","i18n","context","helpers"],function(e,t,r,i){var a={start:function(){t(".opButton").click(function(){var e=t(this).attr("id"),a=[],o=[],l=i.root_url+"/tao/views/img/ajax-loader.gif",s=i.root_url+"taoResultServer/ResultServerMgt/migrateData";t("#selSource").empty(),t("#selTarget").empty(),t("#selOperation").empty(),t("#sourceStorage :checked").each(function(){a.push(t(this).val()),label=t(this).parent().text();t("<li />").html(label).appendTo("#selSource")}),t("#targetStorage :checked").each(function(){o.push(t(this).val()),label=t(this).parent().text();t("<li />").text(label).appendTo("#selTarget")}),t("<label>"+e+"</label>").appendTo("#selOperation"),t("#migrationProgress").attr("style","visibility: visible"),t("#migrationProgress").dialog({modal:!0,width:500,height:430,buttons:[{text:r("Cancel"),click:function(){t(this).dialog("close")}},{text:r("Migrate"),click:function(){t(" #migrationProgress").empty(),t('<img src="'+l+'" />').appendTo("#migrationProgress"),t.ajax({url:s,type:"POST",data:{source:a,target:o,operation:e},success:function(e){t(" #migrationProgress").empty(),t("<label>"+e+"<label>").appendTo("#migrationProgress"),t("#feedback").attr("style","visibility: visible"),t("#migrationProgress").dialog("close")}})}}]})})}};return a});